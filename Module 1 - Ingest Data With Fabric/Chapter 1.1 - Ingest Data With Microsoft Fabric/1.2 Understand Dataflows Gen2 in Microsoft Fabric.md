# Mastering Dataflows Gen2 in Microsoft Fabric

In a modern data landscape, standardizing data for business consumption is paramount. Dataflows Gen2 in Microsoft Fabric provides a powerful, low-code solution to build a reusable semantic model. By connecting to various data sources, you can prep, transform, and land your data directly into your lakehouse or orchestrate its delivery to other destinations using data pipelines.

<br>

<div align="center">
<svg width="200" height="120" viewBox="0 0 200 120" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M10 30 C 40 10, 60 10, 90 30" stroke="#0078D4" stroke-width="2" fill="none" stroke-linecap="round"/>
<path d="M10 50 C 40 30, 60 30, 90 50" stroke="#0078D4" stroke-width="2" fill="none" stroke-linecap="round"/>
<path d="M10 70 C 40 50, 60 50, 90 70" stroke="#0078D4" stroke-width="2" fill="none" stroke-linecap="round"/>
<path d="M10 90 C 40 70, 60 70, 90 90" stroke="#0078D4" stroke-width="2" fill="none" stroke-linecap="round"/>
<rect x="2" y="25" width="16" height="70" rx="3" fill="#A7E6FF" stroke="#0078D4" stroke-width="1.5"/>
<circle cx="10" cy="35" r="2" fill="#005A9E"/>
<circle cx="10" cy="45" r="2" fill="#005A9E"/>
<circle cx="10" cy="55" r="2" fill="#005A9E"/>
<g transform="translate(95, 20)">
<path d="M15 0 L28.392 9.392 L24.392 25.608 L5.608 25.608 L1.608 9.392 Z" fill="#F2C811" stroke="#BF8B00" stroke-width="2"/>
<circle cx="15" cy="12.5" r="5" fill="white" stroke="#BF8B00" stroke-width="2"/>
<path d="M13 10.5 L17 14.5 M17 10.5 L13 14.5" stroke="#BF8B00" stroke-width="2.5" stroke-linecap="round"/>
</g>
<path d="M130 60 C 160 60, 160 60, 190 60" stroke="#4CAF50" stroke-width="3" fill="none" stroke-linecap="round" stroke-dasharray="5 5"/>
<path d="M185 55 L195 60 L185 65" stroke="#4CAF50" stroke-width="3" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M125 40 L195 40 L195 80 L125 80 L140 60 Z" fill="#B2DFDB" stroke="#00796B" stroke-width="2"/>
<rect x="125" y="40" width="70" height="10" fill="#00796B"/>
</svg>
</div>

## What is a Dataflow?

_Dataflows_ are a cloud-native, self-service ETL (_Extract, Transform, Load_) experience for building and executing scalable data transformation processes. Dataflows Gen2 are the latest generation, built directly into Microsoft Fabric.

They empower you to:
- **Extract** data from a vast array of sources.
- **Transform** it using the intuitive Power Query Online visual interface.
- **Load** the curated data into a destination of your choice.

Fundamentally, a dataflow encapsulates all your transformation logic. The resulting curated data can be loaded into a new table, orchestrated via a data pipeline, or used directly by analysts as a trusted data source.

> [!IMPORTANT]
> **Dataflows Gen2 are the low-code data preparation engine of Microsoft Fabric.** They reduce data prep time and promote reusable, standardized transformation logic across your organization.

---

## How to Use Dataflows Gen2

Traditionally, data engineers spend significant time writing code to ETL data into a consumable format. Dataflows Gen2 streamline this process, offering flexible patterns to fit your needs.

### The Standard ETL Pattern (Extract, Transform, Load)

This is the most common pattern. You create a Dataflow Gen2 to handle the entire process, creating a ready-to-use semantic model.

<div align="center">
<svg width="400" height="100" viewBox="0 0 400 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<!-- Sources -->
<rect x="10" y="30" width="60" height="40" rx="5" fill="#E1F5FE" stroke="#01579B" stroke-width="2"/>
<text x="40" y="55" font-family="Segoe UI, sans-serif" font-size="12" text-anchor="middle">Sources</text>
<path d="M75 50 H 115" stroke="#01579B" stroke-width="2" stroke-dasharray="4 4"/>
<path d="M110 45 L 120 50 L 110 55" stroke="#01579B" stroke-width="2" fill="none"/>
<!-- Dataflow Gen2 -->
<rect x="125" y="20" width="150" height="60" rx="8" fill="#FFF8E1" stroke="#F57F17" stroke-width="2"/>
<text x="200" y="45" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" text-anchor="middle">Dataflow Gen2</text>
<text x="200" y="65" font-family="Segoe UI, sans-serif" font-size="12" text-anchor="middle">(Extract & Transform)</text>
<path d="M280 50 H 320" stroke="#01579B" stroke-width="2" stroke-dasharray="4 4"/>
<path d="M315 45 L 325 50 L 315 55" stroke="#01579B" stroke-width="2" fill="none"/>
<!-- Destination -->
<rect x="330" y="30" width="60" height="40" rx="5" fill="#E8F5E9" stroke="#2E7D32" stroke-width="2"/>
<text x="360" y="55" font-family="Segoe UI, sans-serif" font-size="12" text-anchor="middle">Lakehouse</text>
</svg>
</div>

1.  **Create a Dataflow Gen2** to extract and transform the data using Power Query.
2.  **Define a Destination** (optional) such as a Lakehouse table.
3.  **Run the Dataflow.** The business can now directly consume the curated semantic model from the Lakehouse.

> [!NOTE]
> Adding a data destination is optional. A dataflow without a destination still preserves all your transformation steps and can be used as an activity in a Data Pipeline for more complex orchestration.

### The ELT Pattern (Extract, Load, Transform)

For scenarios where you want to land raw data in the lakehouse first, you can use a combination of a Pipeline and a Dataflow Gen2.

<div align="center">
<svg width="450" height="150" viewBox="0 0 450 150" fill="none" xmlns="http://www.w3.org/2000/svg">
<!-- Sources -->
<rect x="10" y="55" width="60" height="40" rx="5" fill="#E1F5FE" stroke="#01579B" stroke-width="2"/>
<text x="40" y="80" font-family="Segoe UI, sans-serif" font-size="12" text-anchor="middle">Sources</text>
<!-- Pipeline -->
<path d="M75 75 H 115" stroke="#01579B" stroke-width="2" stroke-dasharray="4 4"/>
<path d="M110 70 L 120 75 L 110 80" stroke="#01579B" stroke-width="2" fill="none"/>
<rect x="125" y="60" width="80" height="30" rx="5" fill="#FCE4EC" stroke="#880E4F" stroke-width="2"/>
<text x="165" y="80" font-family="Segoe UI, sans-serif" font-size="12" text-anchor="middle">Pipeline</text>
<!-- Lakehouse -->
<path d="M210 75 H 250" stroke="#01579B" stroke-width="2" stroke-dasharray="4 4"/>
<path d="M245 70 L 255 75 L 245 80" stroke="#01579B" stroke-width="2" fill="none"/>
<rect x="260" y="55" width="80" height="40" rx="5" fill="#E8F5E9" stroke="#2E7D32" stroke-width="2"/>
<text x="300" y="80" font-family="Segoe UI, sans-serif" font-size="12" text-anchor="middle">Lakehouse</text>
<!-- Dataflow Gen2 for Transform -->
<path d="M300 50 C 300 20, 360 20, 360 50" stroke="#F57F17" stroke-width="2" fill="none"/>
<path d="M355 45 L 365 50 L 355 55" stroke="#F57F17" stroke-width="2" fill="none"/>
<rect x="310" y="9" width="100" height="35" rx="8" fill="#FFF8E1" stroke="#F57F17" stroke-width="2"/>
<text x="360" y="30" font-family="Segoe UI, sans-serif" font-size="12" text-anchor="middle">Dataflow (Transform)</text>
</svg>
</div>

1.  **Use a Data Pipeline** to extract raw data and load it into your Lakehouse.
2.  **Create a Dataflow Gen2** that connects to the Lakehouse data as its source.
3.  **Cleanse and Transform** the data within this dataflow.
4.  **Offer the Dataflow** as a curated semantic model for analysts to build reports.

> [!TIP]
> **Make your dataflow discoverable!** This allows data analysts to connect directly to your curated dataflow from Power BI Desktop, dramatically reducing their data preparation time and ensuring everyone uses the same governed logic.

---

## Benefits and Limitations

There's more than one way to move data in Microsoft Fabric. Consider these points when deciding if Dataflows Gen2 are the right tool for the job.

### <span style="color: #2E7D32;">Benefits</span>

<div align="center">
<svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10" fill="#E8F5E9"/>
<path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z" fill="#4CAF50"/>
</svg>
</div>

-   **Promote Reusability:** Build reusable ETL logic that prevents creating redundant connections to your data sources.
-   **Enforce Consistency:** Extend your data models with standard, consistent tables, such as a master date dimension.
-   **Democratize Data:** Allow self-service users access to a governed subset of a data warehouse without granting full access.
-   **Optimize Performance:** Extract data from slow sources once and reuse the dataflow, reducing refresh times and load on the source system.
-   **Simplify Complexity:** Abstract complex data sources by exposing only a clean, easy-to-use dataflow to your analyst community.
-   **Ensure Quality:** Enable users to clean, shape, and transform data *before* it lands in a destination, ensuring high data quality.
-   **Accelerate Integration:** Provide a low-code/no-code interface that dramatically simplifies ingesting data from hundreds of sources.

### <span style="color: #F57F17;">Limitations</span>

<div align="center">
<svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1 21H23L12 2L1 21ZM13 18H11V16H13V18ZM13 14H11V10H13V14Z" fill="#FFC107"/>
<path d="M12 5.99L19.53 19H4.47L12 5.99ZM12 2L1 21H23L12 2Z" fill="#F57F17"/>
</svg>
</div>

-   **Not a Data Warehouse:** Dataflows are a data preparation and transformation tool, not a replacement for a full-featured data warehouse for complex analytics and historical storage.
-   **No Row-Level Security (RLS):** RLS must be applied downstream in the semantic model (e.g., in Power BI).
-   **Fabric Capacity Required:** A Microsoft Fabric capacity (F2 or higher) is required to create and run Dataflows Gen2.
