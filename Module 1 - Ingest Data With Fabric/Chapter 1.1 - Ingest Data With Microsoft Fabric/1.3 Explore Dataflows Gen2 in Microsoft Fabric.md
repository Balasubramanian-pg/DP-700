## Navigating the Dataflow Gen2 Interface

In Microsoft Fabric, you can create a Dataflow Gen2 from the **Data Factory** workload, a Power BI workspace, or directly within your Lakehouse. For data ingestion scenarios, the Data Factory experience provides a comprehensive environment.

At the heart of Dataflows Gen2 is **Power Query Online**, a powerful and intuitive visual interface for data transformation. Let's break down its key components.

<div align="center">

![Screenshot of the Power Query Online interface.](https://learn.microsoft.com/en-us/training/wwl/use-dataflow-gen-2-fabric/media/power-query-online-overview.png)
*A high-level overview of the Power Query Online editor.*

</div>

### 1. Power Query Ribbon

<div align="center">
<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="10" y="25" width="80" height="50" rx="5" fill="#E3F2FD" stroke="#1E88E5" stroke-width="2"/>
<rect x="20" y="35" width="20" height="15" rx="2" fill="#BBDEFB"/>
<path d="M24 39 L36 39 M24 43 L36 43" stroke="#1976D2" stroke-width="1.5"/>
<rect x="45" y="35" width="20" height="15" rx="2" fill="#BBDEFB"/>
<path d="M50 40 L60 40 M55 37.5 V 42.5" stroke="#1976D2" stroke-width="1.5"/>
<rect x="70" y="35" width="10" height="15" rx="2" fill="#BBDEFB"/>
<path d="M75 37 L75 45" stroke="#1976D2" stroke-width="1.5"/>
<text x="50" y="68" font-family="Segoe UI, sans-serif" font-size="12" font-weight="bold" text-anchor="middle">Ribbon</text>
</svg>
</div>

The ribbon is your main command center. From here, you can connect to a vast array of data sources, including cloud databases, on-premises files, Fabric artifacts, and SaaS platforms like Salesforce.

Once connected, the ribbon unlocks hundreds of data transformations, such as:

-   **Filtering & Sorting:** Filter rows, sort data, or keep the top/bottom N rows.
-   **Structuring:** Pivot and unpivot columns, merge or append queries.
-   **Cleansing:** Replace values, remove duplicates, and handle errors.
-   **Enriching:** Add conditional columns, invoke custom functions, or perform calculations.

You can also manage data source connections, define parameters, and configure the default data destination from this ribbon.

> [!IMPORTANT]
> The ribbon provides a low-code experience for nearly every data transformation task imaginable, abstracting away the complexity of the underlying M code.

### 2. Queries Pane

<div align="center">
<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="20" y="25" width="60" height="50" rx="5" fill="#E8F5E9" stroke="#388E3C" stroke-width="2"/>
<path d="M30 38 H 70 M30 48 H 70 M30 58 H 55" stroke="#4CAF50" stroke-width="2" stroke-linecap="round"/>
<text x="50" y="68" font-family="Segoe UI, sans-serif" font-size="12" font-weight="bold" text-anchor="middle">Queries</text>
</svg>
</div>

This pane on the left lists all your connected queries. A **query** represents a connection to a data source and the sequence of transformations applied to it. When loaded to a destination, a query becomes a **table**.

From this pane, you can:
-   **Reference or Duplicate:** Create new queries based on existing ones, which is perfect for building a star schema by splitting data into smaller tables.
-   **Organize:** Group queries into folders for better management.
-   **Enable/Disable Load:** Control whether a query's output should be loaded into the destination. This is useful for intermediate queries used only for merging or transformations.

### 3. Diagram View

<div align="center">
<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="10" y="30" width="30" height="20" rx="3" fill="#FFF3E0" stroke="#FB8C00" stroke-width="2"/>
<rect x="60" y="50" width="30" height="20" rx="3" fill="#FFF3E0" stroke="#FB8C00" stroke-width="2"/>
<rect x="10" y="60" width="30" height="20" rx="3" fill="#FFF3E0" stroke="#FB8C00" stroke-width="2"/>
<path d="M40 40 L 60 60" stroke="#FFA726" stroke-width="2"/>
<path d="M40 70 L 60 60" stroke="#FFA726" stroke-width="2"/>
<text x="50" y="25" font-family="Segoe UI, sans-serif" font-size="12" font-weight="bold" text-anchor="middle">Diagram View</text>
</svg>
</div>

The Diagram View provides a visual flowchart of your dataflow. It allows you to see how your queries are connected and understand the lineage of your data transformations at a glance. Each query is a node, showing the transformations applied, and lines connect dependent queries (e.g., a merged query). This view is invaluable for debugging and documenting complex dataflows. You can toggle this view on or off.

### 4. Data Preview Pane

<div align="center">
<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="20" y="30" width="60" height="40" rx="3" fill="white" stroke="#B0BEC5" stroke-width="2"/>
<path d="M20 45 H 80 M 50 30 V 70" stroke="#CFD8DC" stroke-width="1.5"/>
<circle cx="65" cy="65" r="15" fill="#E1F5FE" stroke="#0288D1" stroke-width="2"/>
<path d="M75 75 L 82 82" stroke="#0288D1" stroke-width="2" stroke-linecap="round"/>
<text x="50" y="25" font-family="Segoe UI, sans-serif" font-size="12" font-weight="bold" text-anchor="middle">Data Preview</text>
</svg>
</div>

This is your main canvas where you see and interact with your data. The pane shows a **subset** of your data, allowing you to quickly see the impact of your transformations without waiting for the full dataset to load. You can interact directly with the preview by dragging columns to reorder them or right-clicking column headers to access common transformations like filtering, splitting, and changing data types.

### 5. Query Settings Pane

<div align="center">
<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M25 30 L 75 30 L 75 80 L 25 80 Z" fill="#FCE4EC" stroke="#C2185B" stroke-width="2"/>
<path d="M35 40 L 65 40 M35 50 L 65 50 M35 60 L 55 60" stroke="#E91E63" stroke-width="2"/>
<circle cx="50" cy="50" r="12" fill="#FFFFFF" stroke="#C2185B" stroke-width="2"/>
<path d="M50 42 V 58 M 42 50 H 58 M 44 44 L 56 56 M 44 56 L 56 44" stroke="#C2185B" stroke-width="1.5" stroke-linecap="round"/>
<text x="50" y="25" font-family="Segoe UI, sans-serif" font-size="12" font-weight="bold" text-anchor="middle">Query Settings</text>
</svg>
</div>

This pane on the right tracks the properties and transformation steps for the selected query.

#### Applied Steps
Each transformation you perform is recorded as a step in the **Applied Steps** list. This creates a reproducible recipe for your data prep. You can:
-   **Modify** a step by clicking the gear icon.
-   **Rename, reorder, or delete** steps using the right-click context menu.
-   **View the M Code** behind your transformations by opening the **Advanced Editor**.

<div align="center">

![Screenshot of the advanced editor with sample code](https://learn.microsoft.com/en-us/training/wwl/use-dataflow-gen-2-fabric/media/power-query-advanced-editor.png)
*The Advanced Editor reveals the underlying Power Query M formula language.*
</div>

#### Data Destination
In this pane, you can easily configure where to land your transformed data. Dataflows Gen2 supports loading data directly into:

-   Lakehouse
-   Warehouse
-   Azure SQL Database
-   Azure Data Explorer (KQL)

Dataflows Gen2 provide a best-in-class, low-code solution to ingest and transform data. Power BI developers will find the interface familiar and can immediately begin building robust, upstream data preparation logic to improve report performance and governance.

> [!NOTE]
> For more deep-dive information and best practices, see the official [Power Query documentation](https://learn.microsoft.com/en-us/power-query/) to optimize your dataflows.
